# Configuración Redis para GraphQL Service
# Optimizada para caché de consultas y métricas

# Persistencia
save 900 1
save 300 10
save 60 10000

# Memoria
maxmemory 256mb
maxmemory-policy allkeys-lru

# Red
bind 0.0.0.0
port 6379
timeout 300

# Logging
loglevel notice
logfile ""

# AOF (Append Only File) para durabilidad
appendonly yes
appendfilename "appendonly.aof"
appendfsync everysec

# Configuraciones de seguridad básicas
protected-mode no

# Configuraciones para mejor rendimiento
tcp-keepalive 300
databases 16

# Configuraciones específicas para GraphQL
hash-max-ziplist-entries 512
hash-max-ziplist-value 64
list-max-ziplist-size -2
set-max-intset-entries 512
zset-max-ziplist-entries 128
zset-max-ziplist-value 64